<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>File Upload</title>
	<style>
		body {
			font-family: Impact, fantasy;
			/* font-family: Arial, sans-serif; */
			background-color: #1f1f1f;
			color: #f5f5f5;
			display: flex;
			justify-content: center;
			align-items: center;
			height: 100vh;
			margin: 0;
		}
		h1 {
			text-align: center;
			margin-bottom: 20px;
		}
		form {
			background-color: #3c3c3c;
			padding: 20px;
			border-radius: 8px;
			box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
		}
		label {
			display: block;
			margin-bottom: 10px;
		}
		input[type="file"] {
			margin-bottom: 15px;
		}
		button {
			background-color: #007BFF;
			color: white;
			border: none;
			padding: 10px 20px;
			border-radius: 4px;
			cursor: pointer;
		}
		button:hover {
			background-color: #0056b3;
		}
	</style>
</head>
<body>
	<form id="uploadForm">
		<h1>Upload a File</h1>
		<label for="file">Choose a file:</label>
		<input type="file" id="file" name="file" required>
		<button type="submit">Upload</button>
	</form>

	<script>
		// document.getElementById('uploadForm').addEventListener('submit', async (e) => {
		// e.preventDefault();
		// const fileInput = document.getElementById('file');
		// const file = fileInput.files[0];

		// try {
		// 	const response = await fetch(`/upload?filename=${encodeURIComponent(file.name)}`, {
		// 	// const response = await fetch(`${encodeURIComponent(file.name)}`, {
		// 	method: 'POST',
		// 	headers: { 'Content-Type': 'application/octet-stream' },
		// 	body: file
		// 	});

		// 	// const result = await response.json(); // Fails if response isn't JSON
		// 	const text = await response.text();

		// 	if (result.success) {
		// 		alert('File uploaded successfully!');
		// 	} else {
		// 		alert('Upload failed: Server error');
		// 	}
		// } catch (error) {
		// 	alert(`Error: ${error.message}`);
		// }
		// });


	document.getElementById('uploadForm').addEventListener('submit', async (e) => {
    e.preventDefault();
    const fileInput = document.getElementById('file');
    const file = fileInput.files[0];

try {
    const response = await fetch(`/${encodeURIComponent(file.name)}`, {
        method: 'POST',
        headers: { 'Content-Type': 'application/octet-stream' },
        body: file
    });

    // const text = await response.text(); // Get raw response text
    alert(response.ok ? 'Success: ' : "Error");
} catch (error) {
    alert(`Network Error: ${error.message}`);
}

});


	</script>
</body>
</html>
